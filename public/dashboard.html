<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Year of Music - Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="material-icons" style="vertical-align: middle; font-size: 1.5rem;">music_note</span> Year of Music</h1>
            <button id="logoutBtn" class="btn-secondary"><span class="material-icons btn-icon">logout</span>Logout</button>
        </header>

        <div class="status-card" id="statusCard">
            <div class="status-info">
                <p class="status-label">Last Sent:</p>
                <p id="lastSent" class="status-value">-</p>
            </div>
            <div class="status-info">
                <p class="status-label">Next Up:</p>
                <p id="nextUp" class="status-value">-</p>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2>Group Members</h2>
                <button id="addMemberBtn" class="btn-primary"><span class="material-icons btn-icon">person_add</span>Add Member</button>
            </div>
            <div id="membersList" class="members-list"></div>
        </div>

        <div class="card">
            <h2>Actions</h2>
            <button id="manualSendBtn" class="btn-action"><span class="material-icons btn-icon">send</span>Send Reminder Now</button>
            <button id="skipTurnBtn" class="btn-action"><span class="material-icons btn-icon">skip_next</span>Skip Next Person</button>
        </div>

        <div class="card">
            <div class="card-header">
                <h2>Settings</h2>
                <button id="toggleSettingsBtn" class="btn-secondary">Edit</button>
            </div>
            <div id="settingsPanel" class="settings-panel" style="display: none;">
                <div class="form-group">
                    <label for="sendTime">Send Time:</label>
                    <input type="time" id="sendTime">
                </div>
                <div class="form-group">
                    <label for="timezone">Timezone:</label>
                    <select id="timezone">
                        <option value="America/Chicago">Central (CST/CDT)</option>
                        <option value="America/New_York">Eastern (EST/EDT)</option>
                        <option value="America/Denver">Mountain (MST/MDT)</option>
                        <option value="America/Los_Angeles">Pacific (PST/PDT)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="messageTemplate">Message Template:</label>
                    <textarea id="messageTemplate" rows="4" placeholder="Use {name} for person's name"></textarea>
                    <small>Use {name} to insert the person's name</small>
                </div>
                <div class="form-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="pausedToggle">
                        <span class="toggle-text">Pause Daily Reminders</span>
                    </label>
                </div>
                <button id="saveSettingsBtn" class="btn-primary">Save Settings</button>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2>Send History</h2>
            </div>
            <div id="historyList" class="history-list"></div>
        </div>
    </div>

    <!-- Add Member Modal -->
    <div id="addMemberModal" class="modal">
        <div class="modal-content">
            <div id="addMemberFormView">
                <h3>Add Member</h3>
                <form id="addMemberForm">
                    <div class="form-group">
                        <label for="memberName">Name:</label>
                        <input type="text" id="memberName" required>
                    </div>
                    <div class="form-group">
                        <label for="memberPhone">Phone Number:</label>
                        <input type="tel" id="memberPhone" placeholder="5551234567" required>
                    </div>
                    <div class="modal-actions">
                        <button type="button" id="cancelAddBtn" class="btn-secondary">Cancel</button>
                        <button type="submit" id="submitAddBtn" class="btn-primary"><span class="material-icons btn-icon">person_add</span>Add</button>
                    </div>
                </form>
            </div>
            <div id="addMemberConfirmation" class="confirmation-message" style="display: none;">
                <div class="confirmation-content">
                    <span class="material-icons">check_circle</span>
                    <h3>Member Added!</h3>
                    <p id="confirmationText"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="/app.js"></script>
</body>
</html>
